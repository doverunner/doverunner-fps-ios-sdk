<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PallyConFPSSDK Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>

    <a name="//apple_ref/swift/Class/PallyConFPSSDK" class="dashAnchor"></a>

    <a title="PallyConFPSSDK Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          PallyConFPSSDK 1.17.2 Docs
        </a>
        
      </p>
    
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">PallyConFPSSDK Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      PallyConFPSSDK Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../readme.html">README</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/AES256CBC.html">AES256CBC</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Customer.html">Customer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/License.html">License</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PallyConCustomDataInfo.html">PallyConCustomDataInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PallyConFPSSDK.html">PallyConFPSSDK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes.html#/PallyConTokenInfo">PallyConTokenInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DrmType.html">DrmType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/PallyConSDKException.html">PallyConSDKException</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RenewalInterval.html">RenewalInterval</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/AESCipher.html">AESCipher</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions.html#/FPSLicenseDownloader">FPSLicenseDownloader</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols.html#/PallyConFPSDownloadDelegate">PallyConFPSDownloadDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/PallyConFPSLicenseDelegate.html">PallyConFPSLicenseDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>PallyConFPSSDK</h1>
            <p>A class that can create DownloadTask and acquire FPS license. 
You need to set <code>SiteID</code>, <code>SiteKey</code> to create PallyConFPSSDK instance.
<code><a href="../Protocols/PallyConFPSLicenseDelegate.html">PallyConFPSLicenseDelegate</a></code> is used to handle errors while acquiring license.
You must call the prepare method before playing the content, and you can obtain
the DownloadTask object through the createDownloadTask method to download the content.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Variable/mainm3u8Scheme" class="dashAnchor"></a>
                    <a class="token" href="#/">mainm3u8Scheme</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>URL Scheme that must be applied when using the <code>PallyConFPSLicenseDelegate.resourceLoaderRequest()</code> function.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/init(fpsLicenseDelegate:)" class="dashAnchor"></a>
                    <a class="token" href="#/">init(fpsLicenseDelegate:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates and initializes an PallyConFPSSDK.
Used when the siteID, siteKey issued by PallyCon is not needed.</p>
<h3 id='match-the-function-below' class='heading'>Match the function below:</h3>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">prepare</span><span class="p">(</span><span class="nv">urlAsset</span><span class="p">:</span> <span class="kt">AVURLAsset</span><span class="p">,</span> <span class="nv">contentId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">licenseUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">appleCertUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">createDownloadTask</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">contentId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">licenseUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">appleCertUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">downloadDelegate</span><span class="p">:</span> <span class="kt">PallyConFPSDownloadDelegate</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">DownloadTask</span>
</code></pre>
<h3 id='the-order-of-calling-is-as-follows' class='heading'>The order of calling is as follows</h3>
<pre class="highlight swift"><code><span class="mi">1</span><span class="o">.</span> <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">fpsLicenseDelegate</span><span class="p">:</span> <span class="kt">PallyConFPSLicenseDelegate</span><span class="p">?)</span>
<span class="mi">2</span><span class="o">.</span> <span class="kd">public</span> <span class="kd">func</span> <span class="nf">prepare</span><span class="p">(</span><span class="nv">urlAsset</span><span class="p">:</span> <span class="kt">AVURLAsset</span><span class="p">,</span> <span class="nv">contentId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">licenseUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">appleCertUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="n">or</span>
<span class="mi">3</span><span class="o">.</span> <span class="kd">public</span> <span class="kd">func</span> <span class="nf">createDownloadTask</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">contentName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">contentId</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">licenseUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">appleCertUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">DownloadTask</span>
</code></pre>

<ul>
<li>The matching function must be called.</li>
<li><p>Because they are functions used in the absence of site id, sitekey.</p></li>
</ul><div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.DatabaseProcessError</code> Occurs when there is an error while storing data in license Database.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/init(siteId:siteKey:fpsLicenseDelegate:)" class="dashAnchor"></a>
                    <a class="token" href="#/">init(siteId:<wbr>siteKey:<wbr>fpsLicenseDelegate:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates and initializes an PallyConFPSSDK.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.DatabaseProcessError</code> Occurs when there is an error while storing data in license Database.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:token:licenseUrl:appleCertUrl:licenseRenewalInterval:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>token:<wbr>licenseUrl:<wbr>appleCertUrl:<wbr>licenseRenewalInterval:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Extract license acquisition information from token and prepare for license acquisition.
This method must be called to start playback.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Supports <code>policy_version:2</code> and may not be supported in lower versions.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:userId:contentId:token:licenseUrl:appleCertUrl:liveKeyRotation:licenseRenewalInterval:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>userId:<wbr>contentId:<wbr>token:<wbr>licenseUrl:<wbr>appleCertUrl:<wbr>liveKeyRotation:<wbr>licenseRenewalInterval:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets data required for license acquisition of FPS content. This method must be called to start playback.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It must be executed before playback.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:userId:contentId:optionalId:liveKeyRotation:licenseUrl:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>userId:<wbr>contentId:<wbr>optionalId:<wbr>liveKeyRotation:<wbr>licenseUrl:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets data required for license acquisition of FPS content. This method must be called to start playback.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It must be executed before playback.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:contentId:licenseUrl:appleCertUrl:liveKeyRotation:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>contentId:<wbr>licenseUrl:<wbr>appleCertUrl:<wbr>liveKeyRotation:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets data required for license acquisition of FPS content. This method must be called to start playback.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It must be executed before playback.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:customData:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>customData:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets data required for license acquisition of FPS content. This method must be called to start playback.</p>

<ul>
<li>urlAsset: <code>AVURLAsset</code> of the content to be played.</li>
<li><p>customData: <code>CustomData</code> of the content to be played.</p></li>
</ul><div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InvalidParameter</code> Occurs when parameter is missing or invlid.</p>

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It must be executed before playback.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/prepare(urlAsset:customData:appleCertUrl:)" class="dashAnchor"></a>
                    <a class="token" href="#/">prepare(urlAsset:<wbr>customData:<wbr>appleCertUrl:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets data required for license acquisition of FPS content. This method must be called to start playback.</p>

<ul>
<li>urlAsset: <code>AVURLAsset</code> of the content to be played.</li>
<li>customData: <code>CustomData</code> of the content to be played.</li>
<li><p>appleCertUrl: URL to receive the cert certificate issued by Apple.</p></li>
</ul><div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InvalidParameter</code> Occurs when parameter is missing or invlid.</p>

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It must be executed before playback.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/removeLicense(contentId:)" class="dashAnchor"></a>
                    <a class="token" href="#/">removeLicense(contentId:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Removes a license from license database.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.DatabaseProcessError</code> Occurs when there is an error while removing licese from database.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/getCustomDataInfo(from:)" class="dashAnchor"></a>
                    <a class="token" href="#/">getCustomDataInfo(from:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get a CustomData information from customData.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InvalidParameter</code> Occurs when parameter is missing or invlid.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/getCustomDataForChromcast(userId:contentId:optionalId:)" class="dashAnchor"></a>
                    <a class="token" href="#/">getCustomDataForChromcast(userId:<wbr>contentId:<wbr>optionalId:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get a customData for play in chromcast.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InternalException</code> Occurs when parsing failed.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/getCustomDataForChromcast(token:)" class="dashAnchor"></a>
                    <a class="token" href="#/">getCustomDataForChromcast(token:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get a customData for play in chromcast.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InternalException</code> Occurs when parsing failed.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/getTokenInfo(from:)" class="dashAnchor"></a>
                    <a class="token" href="#/">getTokenInfo(from:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get a token information from token.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p><code>PallyConSDKException.InvalidParameter</code> Occurs when parameter is missing or invlid.</p>

</div>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2017 <a class="link" href="http://www.pallycon.com" target="_blank" rel="external noopener">INKA Entworks</a></p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
